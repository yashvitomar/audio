const a0_0x57d5=['buildCardID','get','writeFile','platformTackerID::','visualQA','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--trackerIDs\x20[\x27ios\x27:<trackerID_iOS>,\x27android\x27:<trackerID_Android>\x20]\x0a','\x20\x20\x20return\x20(\x0a','appFile','\x20\x20\x20componentDidMount()\x20{\x0a','report','Running\x20Mobile\x20VisualQA\x20for\x20','featureID','replace','projectRoot','eventsLog.txt','visualQAToken','podfilePath','error::','apkFile','Duplicate\x20Artboard\x20Name\x20Detected:\x20','CMD_LINE::VisualQA_sigma:\x20','curl\x20-X\x20POST\x20','parse','lsof\x20-P\x20|\x20grep\x20\x27:8081\x27\x20|\x20awk\x20\x27{print\x20$2}\x27\x20|\x20xargs\x20kill\x20-9','rm\x20-f\x20','start','length','type','Process\x20Screen::','stderror:\x20','CMD_LINE::designCompBaseURL:\x20','usage','design-url','build-card-id','sigma','\x27;\x0acomponentDidMount()\x20{\x0alet\x20self\x20=\x20this;\x0a\x20setTimeout(function(){\x20self.props.onReady()\x20},\x201000);\x0a}\x20\x20\x20\x20renderContent()\x20{\x0areturn\x20(\x0a\x20<','trackerID','yarn','../../blocks/','statusCode','builderTracker','ReactNative/','.tsx','featureName',',\x20navigationOptions:\x20{\x20header:\x20null,\x20title:\x20\x22','import\x20CurrentScreen\x20from\x20\x22../blocks/CurrentScreen/CurrentScreen\x22','\x27\x20\x20--data-raw\x20\x27','comment-json','See\x20visual\x20QA\x20Config\x20JSON.jsonc\x20for\x20additional\x20configuration.\x0a','\x09static\x20snapshotName\x20=\x20\x27CurrentScreen\x27;\x0a','CMD_LINE::projectName:\x20','readFileSync','Usage:\x20node\x20mobileVQANodeJS.min.js\x0a','error','indexOf','discrepancies','token','Loading\x20-\x20indexSnapshot\x20-\x20','story-id::','platforms','Android\x20APK\x20Exists.\x20Starting\x20Metro\x20Bundler.','designCompBaseURL','import\x20CurrentScreen\x20from\x20\x27../blocks/CurrentScreen/CurrentScreen\x27\x20\x0a\x20import\x20','createBug::','threshold','project','buildcard-id::','log','Android','\x0aimport\x20','toISOString','visualQAURL','stringify','\x20\x20\x20let\x20self\x20=\x20this;\x0a','mobile','existsSync','child_process','\x20from\x20\x27../blocks/','\x20from\x20\x22../blocks/','CMD_LINE::VisualQA_URL:\x20','labels','CurrentScreen','\x09<CurrentScreen/>\x0a','storyID','Running\x20Mobile\x20Visual\x20QA.\x20Platform\x20Unsupported','visualqa','warnings','/visual_qa/create_bug\x27\x20\x20--header\x20\x27Content-Type:\x20application/json\x27\x20\x20--header\x20\x27secret-key:\x20','Running\x20React\x20Native\x20Metro\x20Bundler.\x20Please\x20wait\x20......','/uploads/','Invaliad\x20','Screen\x20Shot\x20Not\x20Found\x20-\x20','Loading\x20Mobile\x20VQA\x20for\x20','appendFile','release','url','runPodInstall::','No\x20Mobile\x20Code\x20Found.','errorLog.txt','toString','init','Visual\x20QA\x20Responce\x20Failed:\x20','help','\x20&&\x20xcrun\x20simctl\x20shutdown\x20all\x20&&\x20xcrun\x20simctl\x20erase\x20all','severity','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--threshold\x20<threshold>\x0a\x0a','process\x20URL','feature-id','\x20&&\x20adb\x20devices\x20|\x20grep\x20emulator\x20|\x20cut\x20-f1\x20|\x20while\x20read\x20line;\x20do\x20adb\x20-s\x20$line\x20emu\x20kill;\x20done;','CMD_LINE::Tracker_IDs:\x20','CMD_LINE::Tracker_Token:\x20','slice','../indexSnapshot.js','visualQAConfigJSON.jsonc','debug','iOS','../index.js','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--trackerURL\x20<trackerURL>\x0a','Generating\x20iOS\x20APP\x20File.\x20Please\x20wait\x20......','run','snapshots\x20=\x20','registerSnapshot(class\x20SnapshotClass\x20extends\x20Snapshot\x20{\x20\x0a\x20static\x20snapshotName\x20=\x20\x27','CMD_LINE::Tracker_URL:\x20','\x27\x20-H\x20\x27Expect:\x27\x20-H\x20\x27Content-Type:\x20application/json\x27\x20--max-time\x2015000\x20--connect-timeout\x2015000','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--projectName\x20<projectName>\x0a','/api/v1/external/projects/','trackerToken','./sketch_records.json','image-to-base64','entries','./snapshots/','\x20\x20\x20}\x20\x20\x20\x20renderContent()\x20{\x0a','message','trackerIDs','Running\x20iOS\x20Init.\x20Please\x20wait\x20......','forEach','\x20\x20\x20);\x0a','Generating\x20iOS\x20APP\x20File.\x20Done.','Running\x20iOS\x20pod\x20install.\x20Please\x20wait\x20......','replaceAll','toLowerCase','split','\x27\x20--max-time\x2015000\x20--connect-timeout\x2015000','curl\x20--location\x20--request\x20POST\x20\x27','\x27\x20-H\x20\x27x-api-key:\x20','sketch-records','projectName','generateVisualQADefects::','.\x20Please\x20wait\x20......','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--sigma\x20<sigma>\x0a','title','});','.\x20Done\x20......','gen-code-dir','{\x22sketch-records\x22:[]}','../App.org.tsx','\x0a\x0aMobile\x20Visual\x20QA\x20Complete\x0a\x0a','-Files/json/','\x20-d\x20\x20\x27@','import\x20CurrentScreen\x20from\x20\x27../blocks/CurrentScreen/CurrentScreen\x27','design',':\x20{\x20screen:\x20','then','trackerURL','utf8','readFile','exitApp','android','&&\x20adb\x20devices\x20|\x20grep\x20emulator\x20|\x20cut\x20-f1\x20|\x20while\x20read\x20line;\x20do\x20adb\x20-s\x20$line\x20emu\x20kill;\x20done','push','execSync','-Release','close','CMD_LINE::VisualQA_Token:\x20','ios','process','.json'];(function(_0xdde8b4,_0x57d5c5){const _0x274acb=function(_0x4efe08){while(--_0x4efe08){_0xdde8b4['push'](_0xdde8b4['shift']());}};_0x274acb(++_0x57d5c5);}(a0_0x57d5,0x9e));const a0_0x274a=function(_0xdde8b4,_0x57d5c5){_0xdde8b4=_0xdde8b4-0x0;let _0x274acb=a0_0x57d5[_0xdde8b4];return _0x274acb;};const argv=require('yargs')[a0_0x274a('0x32')](a0_0x274a('0x47')+a0_0x274a('0x8f')+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--trackerID\x20<trackerID>\x0a'+a0_0x274a('0x18')+a0_0x274a('0x88')+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--trackerToken\x20<trackerToken>\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--visualQAURL\x20<visualQAURL>\x0a'+a0_0x274a('0xa8')+a0_0x274a('0x7c')+a0_0x274a('0x43'))[a0_0x274a('0x79')](a0_0x274a('0x79'))['argv'];const fs=require('fs');var https=require('https');const {parse}=require(a0_0x274a('0x42'));const {exec}=require('child_process');const {spawn}=require(a0_0x274a('0x5f'));const image2base64=require(a0_0x274a('0x93'));const waitOn=require('wait-on');const {exit}=require(a0_0x274a('0x11'));const execSync=require('child_process')[a0_0x274a('0xc')];process['setMaxListeners'](Infinity);const configJSON=parse(fs[a0_0x274a('0x46')](a0_0x274a('0x84'))['toString']());let projectName=configJSON[a0_0x274a('0x54')];let trackerURL=configJSON[a0_0x274a('0x3b')][a0_0x274a('0x72')];let trackerProjectID=configJSON['builderTracker']['id'];let trackerProjectIDs=[];let trackerToken=configJSON['builderTracker'][a0_0x274a('0x4b')];let visualQAURL=configJSON[a0_0x274a('0x17')][a0_0x274a('0x72')];let sigma=configJSON[a0_0x274a('0x17')][a0_0x274a('0x35')];let threshold=configJSON[a0_0x274a('0x17')][a0_0x274a('0x53')];let visualQAToken=configJSON[a0_0x274a('0x17')][a0_0x274a('0x4b')];let platforms=configJSON[a0_0x274a('0x5d')][a0_0x274a('0x4e')];let initCMDs=configJSON[a0_0x274a('0x5d')][a0_0x274a('0x77')];let podfilePath=configJSON['mobile'][a0_0x274a('0x23')];const screens=configJSON[a0_0x274a('0x5d')]['screens'];let pixelsCatcher=configJSON[a0_0x274a('0x5d')][a0_0x274a('0x8a')];let screensToProcess=screens[a0_0x274a('0x82')]();let currentPlatform='';let isDebug=!![];let uieScreens=[];let uieScreenDataConverted=[];if(argv[a0_0x274a('0xa5')]){projectName=argv[a0_0x274a('0xa5')];logEvent(a0_0x274a('0x45')+projectName);}if(argv[a0_0x274a('0x37')]){trackerProjectID=argv[a0_0x274a('0x37')];logEvent('CMD_LINE::Tracker_ID:\x20'+trackerProjectID);}if(argv[a0_0x274a('0x98')]){trackerProjectIDs=argv['trackerIDs']['replaceAll'](':',',')[a0_0x274a('0x9e')](']','')[a0_0x274a('0x9e')]('[','')[a0_0x274a('0xa0')](',');logEvent(a0_0x274a('0x80')+argv[a0_0x274a('0x98')]);}if(argv[a0_0x274a('0x5')]){trackerURL=argv['trackerURL'];logEvent(a0_0x274a('0x8d')+trackerURL);}if(argv[a0_0x274a('0x91')]){trackerToken=argv['trackerToken'];logEvent(a0_0x274a('0x81')+trackerToken);}if(argv[a0_0x274a('0x5a')]){visualQAURL=argv[a0_0x274a('0x5a')];logEvent(a0_0x274a('0x62')+visualQAURL);}if(argv['visualQAToken']){visualQAToken=argv[a0_0x274a('0x22')];logEvent(a0_0x274a('0xf')+visualQAToken);}if(argv[a0_0x274a('0x35')]){sigma=argv['sigma'];logEvent(a0_0x274a('0x27')+sigma);}if(argv[a0_0x274a('0x53')]){threshold=argv[a0_0x274a('0x53')];logEvent('CMD_LINE::VisualQA_threshold:\x20'+threshold);}if(argv['designCompBaseURL']){designCompBaseURL=argv[a0_0x274a('0x50')];logEvent(a0_0x274a('0x31')+designCompBaseURL);}let mobileScreens=[];async function processNextScreen(){let _0x2bf02a=screensToProcess['pop']();if(_0x2bf02a){let _0x1bce94=[generateScreenShotImageName(currentPlatform,_0x2bf02a[a0_0x274a('0x3e')])];var _0xe1173={'resources':_0x1bce94};try{await waitOn(_0xe1173);logEvent(a0_0x274a('0x2f')+currentPlatform+'::processScreenShot::'+_0x2bf02a[a0_0x274a('0x3e')]);processScreenShot(_0x2bf02a,currentPlatform,isDebug);}catch(_0x4e4bab){logError(_0x4e4bab);exitApp(_0x4e4bab);}}else{if(currentPlatform!=a0_0x274a('0x57')&&platforms[a0_0x274a('0x49')]('Android')!==-0x1){if(uieScreenDataConverted['length']>0x0){screensToProcess=uieScreenDataConverted['slice']();}else{screensToProcess=screens['slice']();}currentPlatform=a0_0x274a('0x57');runAndroid();}else{logEvent(a0_0x274a('0xaf'));exitApp(0x0);}}}function createBug(_0x15551a,_0x265ae0,_0x1c1fd4,_0x3c8f92,_0x53be22){const _0x17e3ce=a0_0x274a('0xa2')+trackerURL+a0_0x274a('0x90')+_0x53be22+a0_0x274a('0x6a')+trackerToken+a0_0x274a('0x41')+_0x1c1fd4+a0_0x274a('0xa1');logEvent(a0_0x274a('0x52')+_0x15551a+'::'+_0x265ae0+'::'+_0x3c8f92+'::'+_0x53be22+'::'+_0x17e3ce);var _0x195a43=require('child_process')['execSync'](_0x17e3ce)[a0_0x274a('0x76')]();logEvent(a0_0x274a('0x52')+_0x15551a+'::'+_0x265ae0+'::'+_0x3c8f92+'::'+_0x53be22+'::'+_0x195a43);}function startMobileVisualTask(){let _0x3f0f9b=a0_0x274a('0x92');try{if(fs[a0_0x274a('0x5e')](_0x3f0f9b)){let _0x4aa199=fs[a0_0x274a('0x46')](_0x3f0f9b);if(_0x4aa199['length']<0x14){logEvent(a0_0x274a('0x6d')+_0x3f0f9b);exitApp(0x0);return;}uieScreens=JSON[a0_0x274a('0x29')](fs['readFileSync'](_0x3f0f9b,a0_0x274a('0x6')));fs[a0_0x274a('0x15')](_0x3f0f9b,a0_0x274a('0xad'),a0_0x274a('0x6'),function(_0x3419a2){});if(uieScreens[a0_0x274a('0xa4')]['length']===0x0){logEvent('No\x20Mobile\x20Code\x20Found.');exitApp(0x0);return;}const _0x3802d6=uieScreens['sketch-records'][a0_0x274a('0x2d')]-0x1;uieScreens[a0_0x274a('0xa4')][a0_0x274a('0x9a')](_0x5b85af=>{let _0x87a6a4=_0x5b85af['gen-code-dir'][a0_0x274a('0x1f')](a0_0x274a('0x3c'),'');try{if(fs[a0_0x274a('0x5e')](a0_0x274a('0x39')+_0x87a6a4+'/'+_0x87a6a4+a0_0x274a('0x3d'))){mobileScreens[a0_0x274a('0xb')](_0x5b85af);logEvent(a0_0x274a('0x6f')+_0x87a6a4);}else{return;}}catch(_0x364a42){console['error'](_0x364a42);exitApp(_0x364a42);}});if(mobileScreens[a0_0x274a('0x2d')]==0x0){logEvent(a0_0x274a('0x74'));exitApp(0x0);}updateScreensToRender();mobileScreens[a0_0x274a('0x9a')](_0x5ca889=>{let _0x4aab58={};let _0x447b04={};let _0x3b2675=_0x5ca889[a0_0x274a('0xac')][a0_0x274a('0x1f')](a0_0x274a('0x3c'),'');_0x4aab58[a0_0x274a('0x3e')]=_0x3b2675;let _0x4d14bf=_0x5ca889[a0_0x274a('0x7e')];_0x4aab58[a0_0x274a('0x1e')]=_0x4d14bf;let _0x4b3717=_0x5ca889['story-id'];_0x4aab58[a0_0x274a('0x66')]=_0x4b3717;let _0x2a62ca=_0x5ca889[a0_0x274a('0x34')];_0x4aab58[a0_0x274a('0x13')]=_0x2a62ca;_0x447b04[a0_0x274a('0x86')]=_0x5ca889[a0_0x274a('0x33')];_0x447b04[a0_0x274a('0x57')]=_0x5ca889[a0_0x274a('0x33')];_0x4aab58['design']=_0x447b04;uieScreenDataConverted['push'](_0x4aab58);});screensToProcess=uieScreenDataConverted[a0_0x274a('0x82')]();}}catch(_0x52414d){console[a0_0x274a('0x48')](_0x52414d);}let _0x457450=a0_0x274a('0x2a');if(platforms[a0_0x274a('0x49')]('iOS')>=0x0&&!fs['existsSync'](configJSON[a0_0x274a('0x5d')][a0_0x274a('0x1a')])){_0x457450=_0x457450+a0_0x274a('0x7a');}if(platforms[a0_0x274a('0x49')]('Android')>=0x0){_0x457450=_0x457450+a0_0x274a('0x7f');}exec(_0x457450,_0x33550f=>{if(_0x33550f){logError(_0x33550f);}if(screens[a0_0x274a('0x2d')]===0x0){exitApp(0x0);return;}if(platforms[a0_0x274a('0x49')](a0_0x274a('0x86'))!==-0x1){currentPlatform='iOS';logEvent(a0_0x274a('0x99'));if(!fs[a0_0x274a('0x5e')](configJSON['mobile'][a0_0x274a('0x1a')])){runPodInstall();}else{generateiOSDebugAPP();}}else if(platforms['indexOf']('Android')!==-0x1){currentPlatform='Android';runAndroid();}});}function runPodInstall(){logEvent(a0_0x274a('0x9d'));var _0x24a0f1=spawn('pod',['install'],{'cwd':podfilePath,'silent':!![]});_0x24a0f1['on'](a0_0x274a('0xe'),_0x333301=>{if(_0x333301!==0x0){logError(a0_0x274a('0x73')+_0x333301);exitApp(-0x1);return;}generateiOSDebugAPP();});}function startMetroBundler(){logEvent(a0_0x274a('0x6b'));spawn(a0_0x274a('0x38'),[a0_0x274a('0x8a'),a0_0x274a('0x2c')],{'cwd':configJSON['mobile'][a0_0x274a('0x20')],'silent':![]});}function runAndroid(){if(platforms['indexOf'](a0_0x274a('0x57'))!==-0x1){try{if(!fs[a0_0x274a('0x5e')](configJSON[a0_0x274a('0x5d')][a0_0x274a('0x25')])){logEvent('Running\x20Android\x20Init.\x20Please\x20wait\x20......');exec(initCMDs[a0_0x274a('0x57')],_0xe47f61=>{if(_0xe47f61){logEvent(_0xe47f61[a0_0x274a('0x97')]);exitApp(-0x1);return;}runMobileVisualQA(a0_0x274a('0x57'),!![]);});}else{logEvent(a0_0x274a('0x4f'));startMetroBundler();runMobileVisualQA(a0_0x274a('0x57'),!![]);}}catch(_0x2fe70c){console[a0_0x274a('0x48')](_0x2fe70c);exitApp(_0x2fe70c);}}}function generateiOSDebugAPP(){try{if(!fs[a0_0x274a('0x5e')](configJSON[a0_0x274a('0x5d')][a0_0x274a('0x1a')])){logEvent(a0_0x274a('0x89'));exec(initCMDs[a0_0x274a('0x86')],_0x1fbb75=>{logEvent(a0_0x274a('0x9c'));if(_0x1fbb75){logEvent(_0x1fbb75);}runMobileVisualQA(a0_0x274a('0x86'),!![]);});}else{logEvent('iOS\x20App\x20Exists.\x20Starting\x20Metro\x20Bundler.');startMetroBundler();runMobileVisualQA('iOS',!![]);}}catch(_0x5b5b70){console['error'](_0x5b5b70);exitApp(_0x5b5b70);}}async function runMobileVisualQA(_0x550302,_0x4ef516){logEvent(a0_0x274a('0x1d')+_0x550302+a0_0x274a('0xa7'));setSnapShotMode(!![]);exec(pixelsCatcher+'\x20\x20'+_0x550302[a0_0x274a('0x9f')]()+'\x20'+(_0x4ef516?a0_0x274a('0x85'):a0_0x274a('0x71')),(_0x1a7a9e,_0x51ebb8,_0x3aea0a)=>{logEvent(a0_0x274a('0x1d')+_0x550302+a0_0x274a('0xab'));logEvent(_0x3aea0a);logEvent(_0x51ebb8);if(_0x1a7a9e){logError(_0x1a7a9e['message']);}processNextScreen();});}function setSnapShotMode(_0x45bd39){fs[a0_0x274a('0x7')](a0_0x274a('0x87'),'utf8',function(_0xc9ffe3,_0x55269d){if(_0xc9ffe3)return logError(_0xc9ffe3);var _0x4b4ea3=_0x55269d[a0_0x274a('0x1f')](a0_0x274a('0x8b')+!_0x45bd39,a0_0x274a('0x8b')+_0x45bd39);fs[a0_0x274a('0x15')](a0_0x274a('0x87'),_0x4b4ea3,'utf8',function(_0x2af5c2){if(_0x2af5c2){logError(_0xc9ffe3);return;}});});}function exitApp(_0x5961e0){if(uieScreens[a0_0x274a('0xa4')]){uieScreens[a0_0x274a('0xa4')][a0_0x274a('0x9a')](_0x378d14=>{let _0x124b86=_0x378d14[a0_0x274a('0xac')][a0_0x274a('0x1f')](a0_0x274a('0x3c'),'');if(_0x124b86!==a0_0x274a('0x64')){exec('rm\x20-rf\x20../../blocks/'+_0x124b86);}});}console['log'](a0_0x274a('0x8'));let _0x184756=a0_0x274a('0x2a');if(platforms[a0_0x274a('0x49')]('iOS')>=0x0&&!fs[a0_0x274a('0x5e')](configJSON[a0_0x274a('0x5d')]['appFile'])){_0x184756='\x20&&\x20xcrun\x20simctl\x20shutdown\x20all\x20&&\x20xcrun\x20simctl\x20erase\x20all';}if(platforms[a0_0x274a('0x49')]('Android')>=0x0){_0x184756=a0_0x274a('0xa');}exec(_0x184756,()=>{process['exit'](_0x5961e0);});}function logEvent(_0x3e10a1){console[a0_0x274a('0x56')](_0x3e10a1);let _0x5151a4=new Date()['toISOString']();let _0x203552=_0x5151a4+'\x20'+projectName+'\x20'+_0x3e10a1+'\x0a';fs[a0_0x274a('0x70')](a0_0x274a('0x21'),_0x203552,function(_0x45b683){if(_0x45b683)throw _0x45b683;});}function logError(_0x4eb887){let _0x2e080b=new Date()[a0_0x274a('0x59')]();let _0x178b2a=_0x2e080b+'\x20'+projectName+'\x20'+_0x4eb887+'\x0a';logEvent(a0_0x274a('0x24')+_0x4eb887);fs[a0_0x274a('0x70')](a0_0x274a('0x75'),_0x178b2a,function(_0x3d6513){if(_0x3d6513)throw _0x3d6513;});}async function processScreenShot(_0x42904c,_0x502293,_0x17755d){let _0x1d762f=_0x42904c[a0_0x274a('0x2')]['iOS'];if(_0x502293===a0_0x274a('0x57')){_0x1d762f=_0x42904c['design']['Android'];}let _0x467d7e=_0x42904c['featureName'];let _0x2c8000={'featureID':_0x42904c['featureID']?_0x42904c['featureID']:0x0,'storyID':_0x42904c[a0_0x274a('0x66')]?_0x42904c[a0_0x274a('0x66')]:0x0,'buildCardID':_0x42904c[a0_0x274a('0x13')]?_0x42904c[a0_0x274a('0x13')]:0x0};try{https[a0_0x274a('0x14')](_0x1d762f,function(_0x2e9a8f){if(_0x2e9a8f[a0_0x274a('0x3a')]===0xc8){logEvent(a0_0x274a('0x7d')+_0x502293+'::'+_0x1d762f);image2base64(_0x1d762f)['then'](_0x3da7e4=>{processImage(_0x467d7e,_0x2c8000,_0x502293,_0x17755d,_0x3da7e4);});}else{logError(a0_0x274a('0x11')+_0x502293+'::'+_0x1d762f);processNextScreen();}});}catch(_0x18f7c6){logError(_0x18f7c6);processNextScreen();}}function generateScreenShotImageName(_0x202b86,_0x56068c){return a0_0x274a('0x95')+_0x202b86[a0_0x274a('0x9f')]()+a0_0x274a('0x6c')+_0x56068c+'.png';}async function processImage(_0x2b4d8c,_0x20d665,_0x553815,_0x227b72,_0x329717){const _0x1631f0=generateScreenShotImageName(_0x553815,_0x2b4d8c);try{if(fs[a0_0x274a('0x5e')](_0x1631f0)){logEvent('processImage::'+_0x553815+'::'+_0x20d665[a0_0x274a('0x13')]+'::'+_0x20d665['storyID']+'::'+_0x20d665[a0_0x274a('0x1e')]+'::'+_0x2b4d8c+'::'+_0x227b72);image2base64(_0x1631f0)[a0_0x274a('0x4')](_0x239215=>{let _0x14b3e4='./'+(projectName[a0_0x274a('0x1f')](new RegExp('\x20','g'),'-')+a0_0x274a('0xb0')+_0x553815+'/'+_0x2b4d8c+(_0x227b72?'-Debug':a0_0x274a('0xd'))+a0_0x274a('0x12'))[a0_0x274a('0x1f')](new RegExp('\x20','g'),'_');exec(a0_0x274a('0x2b')+_0x14b3e4,()=>{const _0x175c44={'project':projectName,'platform':_0x553815,'feature':_0x2b4d8c,'design':{'buffer':_0x329717},'screenshot':{'buffer':_0x239215},'settings':{'sigma':sigma,'threshold':threshold}};let _0x53d7ac=JSON['stringify'](_0x175c44);fs['writeFileSync'](_0x14b3e4,_0x53d7ac);generateVisualQADefects(_0x14b3e4,_0x553815,_0x2b4d8c,_0x20d665);});});}else{logError(a0_0x274a('0x6e')+_0x1631f0);processedScreen(_0x2b4d8c,_0x553815,_0x227b72);}}catch(_0xb43f2e){logError(_0xb43f2e);processedScreen(_0x2b4d8c,_0x553815,_0x227b72);}}function generateVisualQADefects(_0x7903ba,_0x4903ec,_0x200c5a,_0x5cf256){let _0x1138cb=a0_0x274a('0x28')+visualQAURL+a0_0x274a('0x0')+_0x7903ba+a0_0x274a('0xa3')+visualQAToken+a0_0x274a('0x8e');logEvent(a0_0x274a('0xa6')+_0x1138cb);exec(_0x1138cb,(_0x41d5ab,_0x37e521,_0x532cb2)=>{if(_0x41d5ab){logError(_0x41d5ab[a0_0x274a('0x97')]);}logEvent('stdout:\x20'+_0x37e521);logEvent(a0_0x274a('0x30')+_0x532cb2);if(_0x37e521['indexOf']('{')!==0x0){logError(a0_0x274a('0x78')+_0x200c5a);processNextScreen();return;}const _0x2319ad=JSON[a0_0x274a('0x29')](_0x37e521);if(!_0x2319ad['discrepancies']||JSON[a0_0x274a('0x5b')](_0x2319ad[a0_0x274a('0x4a')])==='{}'){processNextScreen();return;}const _0x6512c5=Object[a0_0x274a('0x94')](_0x2319ad[a0_0x274a('0x4a')])[a0_0x274a('0x2d')]-0x1;Object[a0_0x274a('0x94')](_0x2319ad[a0_0x274a('0x4a')])[a0_0x274a('0x9a')](([_0x55c889,_0x486a77],_0x52d845)=>{let _0x44f2a1=_0x52d845===_0x6512c5;generateTrakerBugs(_0x55c889,_0x486a77,_0x44f2a1,_0x4903ec,_0x200c5a,_0x5cf256);});});}function generateTrakerBugs(_0x200032,_0xa17aa2,_0x27c082,_0x28b98f,_0x297901,_0x1cf3b7){const _0x3b3d0b={'name':_0x200032,'remote_url':_0xa17aa2['bug_image_url'],'content_type':_0xa17aa2[a0_0x274a('0x2e')]};let _0x2d50fc=new Date()[a0_0x274a('0x59')]()[a0_0x274a('0x82')](0x0,0x13)[a0_0x274a('0x1f')]('T','-')['replace'](new RegExp(':','g'),'-');let _0x178fc8=projectName+'/'+_0x28b98f+'/'+_0x1cf3b7['buildCardID']+'/'+_0x1cf3b7[a0_0x274a('0x66')]+'/'+_0x1cf3b7[a0_0x274a('0x1e')]+'/'+_0x297901+'/'+_0x2d50fc+'/'+_0x200032;let _0x461a6a={'title':_0xa17aa2[a0_0x274a('0xa9')],'description':_0xa17aa2[a0_0x274a('0x1c')]+_0xa17aa2[a0_0x274a('0x69')],'severity':_0xa17aa2[a0_0x274a('0x7b')],'labels':[_0x178fc8,a0_0x274a('0x68'),_0xa17aa2[a0_0x274a('0x2e')],_0x297901],'feature_id':Number(_0x1cf3b7[a0_0x274a('0x1e')]),'screens':[_0x297901],'attachments':[_0x3b3d0b]};if(_0x1cf3b7[a0_0x274a('0x13')]>0x0){_0x461a6a['labels']['push'](a0_0x274a('0x55')+_0x1cf3b7['buildCardID']);}if(_0x1cf3b7[a0_0x274a('0x66')]>0x0){_0x461a6a[a0_0x274a('0x63')][a0_0x274a('0xb')](a0_0x274a('0x4d')+_0x1cf3b7[a0_0x274a('0x66')]);}if(_0x1cf3b7['featureID']>0x0){_0x461a6a[a0_0x274a('0x63')][a0_0x274a('0xb')]('feature-id::'+_0x1cf3b7[a0_0x274a('0x1e')]);}const _0x593339={'story':_0x461a6a};createBug(_0x297901,_0x28b98f,JSON[a0_0x274a('0x5b')](_0x593339),isDebug,trackerProjectID);iIndex=trackerProjectIDs[a0_0x274a('0x2d')];platformTackerID=0x0;while(iIndex-0x2>=0x0){let _0xf258d3=trackerProjectIDs[iIndex-0x2]['toLowerCase']();let _0x1fb4f5=trackerProjectIDs[iIndex-0x1];if(_0xf258d3===a0_0x274a('0x10')&&_0x28b98f===a0_0x274a('0x86')){platformTackerID=_0x1fb4f5;iIndex=0x0;}else if(_0xf258d3===a0_0x274a('0x9')&&_0x28b98f===a0_0x274a('0x57')){platformTackerID=_0x1fb4f5;iIndex=0x0;}else{logEvent(a0_0x274a('0x67'));}iIndex-=0x2;}if(platformTackerID){logEvent(a0_0x274a('0x16')+platformTackerID);createBug(_0x297901,_0x28b98f,JSON[a0_0x274a('0x5b')](_0x593339),isDebug,platformTackerID);}if(_0x27c082){processNextScreen();}}function updateScreensToRender(){let _0x369a3c=a0_0x274a('0x40');let _0x85bdc8='CurrentScreen:\x20{\x20screen:\x20CurrentScreen,\x20navigationOptions:\x20{\x20header:\x20null,\x20title:\x20\x22CurrentScreen\x22\x20}\x20}';fs[a0_0x274a('0x7')](a0_0x274a('0xae'),a0_0x274a('0x6'),function(_0x51b6cb,_0x33a726){if(_0x51b6cb){logError(_0x51b6cb);return;}result=_0x33a726;let _0x2cc3f1=mobileScreens[a0_0x274a('0x2d')]-0x1;mobileScreens[a0_0x274a('0x9a')]((_0x588ae3,_0x3f0aa0)=>{let _0x8e9b9e=_0x588ae3[a0_0x274a('0xac')][a0_0x274a('0x1f')](a0_0x274a('0x3c'),'');result=result[a0_0x274a('0x1f')](_0x85bdc8,_0x85bdc8+',\x0a'+_0x8e9b9e+a0_0x274a('0x3')+_0x8e9b9e+a0_0x274a('0x3f')+_0x8e9b9e+'\x22\x20}\x20}');result=result['replace'](_0x369a3c,_0x369a3c+a0_0x274a('0x58')+_0x8e9b9e+a0_0x274a('0x61')+_0x8e9b9e+'/'+_0x8e9b9e+'\x22');if(_0x3f0aa0===_0x2cc3f1){if(mobileScreens[a0_0x274a('0x2d')]==0x0){logEvent(a0_0x274a('0x74'));exitApp(0x0);}result=result[a0_0x274a('0x1f')](_0x85bdc8+',','');result=result[a0_0x274a('0x1f')](_0x369a3c,'');fs[a0_0x274a('0x15')]('../App.tsx',result,a0_0x274a('0x6'),function(_0x381794){updateIndexSnapshot();});}});});}function updateIndexSnapshot(){let _0xee20d1='registerSnapshot(class\x20SnapshotClass\x20extends\x20Snapshot\x20{\x0a'+a0_0x274a('0x44')+a0_0x274a('0x1b')+a0_0x274a('0x5c')+'\x09setTimeout(function(){\x20self.props.onReady()\x20},\x201000);\x0a'+a0_0x274a('0x96')+a0_0x274a('0x19')+a0_0x274a('0x65')+a0_0x274a('0x9b')+'\x20\x20\x20}\x0a'+a0_0x274a('0xaa');fs[a0_0x274a('0x7')]('../indexSnapshot.org.js',a0_0x274a('0x6'),function(_0x5d19af,_0x4c59eb){if(_0x5d19af){logError(_0x5d19af);return;}indexSnapshotFile=_0x4c59eb;result=_0x4c59eb;uieScreenNames=[];mobileScreens[a0_0x274a('0x9a')](_0x493c0e=>{let _0x1e972b=_0x493c0e[a0_0x274a('0xac')][a0_0x274a('0x1f')]('ReactNative/','');try{if(!fs[a0_0x274a('0x5e')](a0_0x274a('0x39')+_0x1e972b+'/'+_0x1e972b+a0_0x274a('0x3d'))){logError('Code\x20for\x20'+_0x1e972b+'\x20not\x20found.');exitApp(-0x1);}}catch(_0x581e87){console[a0_0x274a('0x48')](_0x581e87);exitApp(_0x581e87);}logEvent(a0_0x274a('0x4c')+_0x1e972b);uieScreenNames[a0_0x274a('0x9a')](_0x42bd44=>{if(_0x42bd44===_0x1e972b){logError(a0_0x274a('0x26')+_0x1e972b);exitApp(-0x1);}});uieScreenNames['push'](_0x1e972b);result=result[a0_0x274a('0x1f')]('import\x20CurrentScreen\x20from\x20\x27../blocks/CurrentScreen/CurrentScreen\x27',a0_0x274a('0x51')+_0x1e972b+a0_0x274a('0x60')+_0x1e972b+'/'+_0x1e972b+'\x27;');result=result[a0_0x274a('0x1f')](_0xee20d1,a0_0x274a('0x8c')+_0x1e972b+a0_0x274a('0x36')+_0x1e972b+'/>\x20\x0a);\x0a}\x20});\x0a'+_0xee20d1);});result=result[a0_0x274a('0x1f')](a0_0x274a('0x1'),'');result=result[a0_0x274a('0x1f')](_0xee20d1,'');fs['writeFile'](a0_0x274a('0x83'),result,a0_0x274a('0x6'),function(_0x52c533){});});}startMobileVisualTask();